<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    <title>redis.conf参数配置及解释 | JiFu&#39;s Wiki</title>
    
    
        <meta name="keywords" content="Redis,config,参数">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="# redis关于内存分配使用的单位，不区分大小写，K、M、G单位进制1000，kb，mb，gb进制1024 ##################################关于include指令 ################################### # 一般的一台服务器上会跑多个Redis实例，而这些实例配置大同小异，因此将共同的部分抽取出来template.conf，">
<meta name="keywords" content="Redis,config,参数">
<meta property="og:type" content="article">
<meta property="og:title" content="redis.conf参数配置及解释">
<meta property="og:url" content="http://www.jifu.io/posts/2992538737/index.html">
<meta property="og:site_name" content="JiFu&#39;s Wiki">
<meta property="og:description" content="# redis关于内存分配使用的单位，不区分大小写，K、M、G单位进制1000，kb，mb，gb进制1024 ##################################关于include指令 ################################### # 一般的一台服务器上会跑多个Redis实例，而这些实例配置大同小异，因此将共同的部分抽取出来template.conf，">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://www.jifu.io/images/2/20190401165755.jpg">
<meta property="og:updated_time" content="2020-08-11T05:17:21.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="redis.conf参数配置及解释">
<meta name="twitter:description" content="# redis关于内存分配使用的单位，不区分大小写，K、M、G单位进制1000，kb，mb，gb进制1024 ##################################关于include指令 ################################### # 一般的一台服务器上会跑多个Redis实例，而这些实例配置大同小异，因此将共同的部分抽取出来template.conf，">
<meta name="twitter:image" content="https://www.jifu.io/images/2/20190401165755.jpg">
    

    
        <link rel="alternate" href="/atom.xml" title="JiFu&#39;s Wiki" type="application/atom+xml">
    

    
        <link rel="icon" href="/favicon.ico">
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">
    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    
        <script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?efa1eb5f56c438a850a0f60609fd7755";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>

    


<link rel="stylesheet" href="/css/prism-duotone-light.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
</html>
<body>
    <div id="container">
        <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

<header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">JiFu&#39;s Wiki</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap" id='categories'>
        <h3 class="widget-title">
            <span>分类</span>
            &nbsp;
            <a id='allExpand' href="#">
                <i class="fa fa-angle-double-up fa-2x"></i>
            </a>
        </h3>

        
        
         <ul class="unstyled" id="tree" style="display: block;"> 
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                HR
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3142539384/">HR常用的招聘邮件模板</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Hardware
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3904818761/">MacBook十年进化史</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder-open"></i>
                                &nbsp;
                                OPS
                            </a>
                             <ul class="unstyled" id="tree" style="display: block;"> 
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Docker
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/1245529498/">Docker学习笔记</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Editor
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/151598530/">VScdoe error:Could not create temporary directory Permission denied</a></li>  <li class="file"><a href="/posts/4167799419/">Build personal development editor with vscode</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder-open"></i>
                                &nbsp;
                                Linux
                            </a>
                             <ul class="unstyled" id="tree" style="display: block;"> 
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                CentOS
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/920993072/">CentOS update Ruby</a></li>  <li class="file"><a href="/posts/1867760035/">CentOS7编译安装VIM8</a></li>  <li class="file"><a href="/posts/1153610031/">centos7修改启动内核，删除无用内核</a></li>  <li class="file"><a href="/posts/4057676473/">yum提示Error: rpmdb open failed的解决方案</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                System Service
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/4024224000/">Linux swap分区及作用详解</a></li>  <li class="file"><a href="/posts/797311580/">服务管理工具 - systemctl</a></li>  <li class="file"><a href="/posts/55221137/">防火墙工具 - firewalld</a></li>  <li class="file"><a href="/posts/709002730/">使用 systemctl 添加自定义服务</a></li>  </ul> 
                        </li>
                         <li class="file"><a href="/posts/3897848060/">Mac使用SSH登录Google Cloud Platform</a></li>  <li class="file"><a href="/posts/4070386720/">Linux系统目录结构及详细说明</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                MacOS
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/4001059579/">Compiling PyQt5 for Python2.7 on Mac OS</a></li>  <li class="file"><a href="/posts/3746871293/">Charles从入门到精通</a></li>  <li class="file"><a href="/posts/1883980072/">Mac OS系统加速：干掉那些「炫酷」的动画</a></li>  <li class="file"><a href="/posts/581320548/">Homebrew：让你从 Mac 切换到 Linux 更轻松</a></li>  <li class="file"><a href="/posts/662287335/">MACOS BOOT CAMP – THE STARTUP DISK DOES NOT HAVE ENOUGH SPACE TO BE PARTITIONED</a></li>  <li class="file"><a href="/posts/3837318570/">Mac VSCode 禁用GPU加速</a></li>  <li class="file"><a href="/posts/4147446761/">Mac 时间机器 Time Machine 备份速度太慢的解决方法 (加速备份命令)</a></li>  <li class="file"><a href="/posts/2733308530/">Mac定时任务-利用launchctl定时启动任务</a></li>  <li class="file"><a href="/posts/294187676/">Mac版迅雷优化,删除无用插件</a></li>  <li class="file"><a href="/posts/3366946474/">Mac高效使用技巧</a></li>  <li class="file"><a href="/posts/582618556/">Mac的最大连接数限制和端口的相关参数的设置</a></li>  <li class="file"><a href="/posts/1070186292/">SafariBookmarksSyncAgent意外退出解决方法</a></li>  <li class="file"><a href="/posts/1208074722/">Mac重置系统管理控制器SMC</a></li>  <li class="file"><a href="/posts/2768996547/">一览Mac OS 图形界面的发展史</a></li>  <li class="file"><a href="/posts/1623087360/">修复破解Mac应用启动时闪退（原因是由于苹果移除了TNT证书）</a></li>  <li class="file"><a href="/posts/3920589165/">如何重置Mac上的NVRAM</a></li>  <li class="file"><a href="/posts/3807466731/">如何彻底和CrossOver说GoodBye</a></li>  <li class="file"><a href="/posts/1207571108/">强制退出Mac程序的六种方法</a></li>  <li class="file"><a href="/posts/646546052/">如何查看 macOS 系统日志，辅助排除应用程序和系统故障</a></li>  <li class="file"><a href="/posts/3430780623/">解决Mac修改DNS卡死-命令行修改Mac OS系统DNS设置</a></li>  <li class="file"><a href="/posts/558776221/">解决“Mac应用”已损坏，无法打开的问题</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Others
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3101956195/">Git中.gitignore无效的解决办法</a></li>  <li class="file"><a href="/posts/2867836530/">Axel:命令行下轻量级多线程下载程序</a></li>  <li class="file"><a href="/posts/3413649842/">Linux实用工具</a></li>  <li class="file"><a href="/posts/3784546227/">Git忽略提交规则 - .gitignore配置总结</a></li>  <li class="file"><a href="/posts/1073812833/">linux下测试磁盘的读写IO速度(IO物理测速)</a></li>  <li class="file"><a href="/posts/3895039994/">命令行信息截图工具 - ScreenFetch</a></li>  <li class="file"><a href="/posts/760033837/">平铺式窗口管理器 - Awesome</a></li>  <li class="file"><a href="/posts/1413974522/">用好这些隐藏「小开关」，让 Chrome 浏览器更好用</a></li>  <li class="file"><a href="/posts/2006196850/">私有化TM备份与共享服务器 - Netatalk</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Vim
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/258379777/">VIM下使用Vundle搭建python开发环境</a></li>  <li class="file"><a href="/posts/3374749959/">Vim快捷键使用总结</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Windows
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/913943227/">解决EXCEL按上下左右键不是单元格移动的问题</a></li>  <li class="file"><a href="/posts/3426016246/">利用windows内置工具测试硬盘速度 - winsat</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Wordpress
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/1067246247/">WordPress启用memcached动态缓存以及报错解决</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                command
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3200906184/">find命令快速技巧：如何定位一个文件</a></li>  <li class="file"><a href="/posts/2407250830/">history命令设置linux查看历史命令显示执行时间</a></li>  <li class="file"><a href="/posts/3403344661/">定时任务Crontab命令详解</a></li>  <li class="file"><a href="/posts/3241041753/">通过编写 chroot 来认识 chroot 发挥的作用和它带来的好处</a></li>  </ul> 
                        </li>
                         <li class="file"><a href="/posts/404814820/">DevOps简介</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder-open"></i>
                                &nbsp;
                                Soft engineering
                            </a>
                             <ul class="unstyled" id="tree" style="display: block;"> 
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Algorithm
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/1453950584/">8大排序算法图文讲解</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Cheat Sheets
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/4169548679/">Cheat Sheets - .NET</a></li>  <li class="file"><a href="/posts/3048024619/">Cheat Sheets - Django Reference Sheet</a></li>  <li class="file"><a href="/posts/2623330927/">Cheat Sheets - PostgreSQL</a></li>  <li class="file"><a href="/posts/3433268710/">Cheat Sheets - Shell Script</a></li>  <li class="file"><a href="/posts/2993634676/">Cheat Sheets - Git</a></li>  <li class="file"><a href="/posts/3327139081/">Cheat Sheets – C++</a></li>  <li class="file"><a href="/posts/59285358/">Cheat Sheets – HTML and XHTML</a></li>  <li class="file"><a href="/posts/305297407/">Cheat Sheets – C</a></li>  <li class="file"><a href="/posts/3766000533/">Cheat Sheets – HTTP</a></li>  <li class="file"><a href="/posts/2137528313/">Cheat Sheets – CSS</a></li>  <li class="file"><a href="/posts/2663199359/">Cheat Sheets – Java</a></li>  <li class="file"><a href="/posts/982990798/">Cheat Sheets – Linux</a></li>  <li class="file"><a href="/posts/316669616/">Cheat Sheets – Mac OS X</a></li>  <li class="file"><a href="/posts/1362596080/">Cheat Sheets – PHP</a></li>  <li class="file"><a href="/posts/2038387758/">Cheat Sheets – MySQL</a></li>  <li class="file"><a href="/posts/3167589601/">Cheat Sheets – Perl</a></li>  <li class="file"><a href="/posts/2920272111/">Cheat Sheets – Nodejs</a></li>  <li class="file"><a href="/posts/1053003126/">Cheat Sheets – Python</a></li>  <li class="file"><a href="/posts/2789789845/">Cheat Sheets – jQuery</a></li>  <li class="file"><a href="/posts/1130312566/">Cheat Sheets – SQLite</a></li>  <li class="file"><a href="/posts/4169548678/">Cheat Sheets - Photoshop</a></li>  <li class="file"><a href="/posts/3586350539/">Cheat sheets - Mac OS</a></li>  <li class="file"><a href="/posts/3905631645/">Cheat sheets - Xcode</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Project
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/1755831586/">软件发布版本区别介绍</a></li>  <li class="file"><a href="/posts/467054247/">如何编写开源项目的README文档</a></li>  </ul> 
                        </li>
                         </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                UI Design
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/1907494021/">PS快捷键使用指南</a></li>  <li class="file"><a href="/posts/1525329016/">提高效率！24 个高手常用的 Sketch 技巧合集（附实用快捷键）</a></li>  </ul> 
                        </li>
                        
                        <li class="directory-open" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder-open"></i>
                                &nbsp;
                                back-end
                            </a>
                             <ul class="unstyled" id="tree" style="display: block;"> 
                        <li class="directory-open" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder-open"></i>
                                &nbsp;
                                Middle-ware
                            </a>
                             <ul class="unstyled" id="tree" style="display: block;"> 
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Gogs
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/4076369309/">Gogs数据备份、恢复</a></li>  <li class="file"><a href="/posts/612684965/">私人Git服务器 -- gogs</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Jenkins
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/2282359188/">jenkins密码重置</a></li>  <li class="file"><a href="/posts/388825549/">利用Jenkins持续集成iOS项目</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Logstash
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/2615120416/">日志搜集处理框架Logstash-安装配置</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                MySQL
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/2625460784/">MySQL延迟复制</a></li>  <li class="file"><a href="/posts/4284065059/">MySQL 调优/优化的 101 个建议</a></li>  <li class="file"><a href="/posts/2654174479/">分库分表 vs NewSQL数据库</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Nginx
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3996389515/">Nginx配置跨域请求 Access-Control-Allow-Origin *</a></li>  <li class="file"><a href="/posts/1544228005/">高性能Web服务器 - Nginx配置详解</a></li>  <li class="file"><a href="/posts/524919010/">Nginx正向代理与Client设置代理上网</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                RabbitMQ
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3135873234/">RabbitMQ入门</a></li>  </ul> 
                        </li>
                        
                        <li class="directory-open" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Redis
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/156114019/">Redis Stream应用案例</a></li>  <li class="file"><a href="/posts/3909951181/">Redis Manual</a></li>  <li class="file"><a href="/posts/2864310564/">深入分析Redis特点及应用场景</a></li>  <li class="file active"><a href="/posts/2992538737/">redis.conf参数配置及解释</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Sentry
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/1303728868/">错误日志收集平台 - Sentry(Redis+MySQL)</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Shadowsocks
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3154796955/">Vultr快速搭建SS科学上网</a></li>  </ul> 
                        </li>
                         </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                NodeJS
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/2653381572/">NodeJS Package Manage Tool - NPM</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder-open"></i>
                                &nbsp;
                                Python
                            </a>
                             <ul class="unstyled" id="tree" style="display: block;"> 
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Build-in
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/857250976/">Python build-in functions - List</a></li>  <li class="file"><a href="/posts/2858153934/">Python build-in functions - collections</a></li>  <li class="file"><a href="/posts/5/">Python多线程和锁</a></li>  <li class="file"><a href="/posts/3208674450/">Python build-in module - os</a></li>  <li class="file"><a href="/posts/2434599799/">Python build-in functions</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Configuration
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/3568487154/">更改pip源至国内镜像 - 显著提升下载速度</a></li>  </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                Library
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/4096440342/">Python Library - SQLAlchemy</a></li>  <li class="file"><a href="/posts/55626181/">发布你自己的轮子 - PyPI打包上传实践</a></li>  <li class="file"><a href="/posts/383305840/">Python Library - Flask SQLAlchemy</a></li>  </ul> 
                        </li>
                         <li class="file"><a href="/posts/272954362/">sys.stdout.write实现Python控制台实时刷新打印</a></li>  </ul> 
                        </li>
                         </ul> 
                        </li>
                        
                        <li class="directory" id="">
                            <a href="#" data-role="directory">
                                <i class="fa fa-folder"></i>
                                &nbsp;
                                iOS Dev
                            </a>
                             <ul class="unstyled" id="tree" >  <li class="file"><a href="/posts/1054462359/">Apple Store上iOS App上架流程</a></li>  <li class="file"><a href="/posts/1098789015/">Xcode开发中Build与version区别/build自增设置/build随时间变化？</a></li>  </ul> 
                        </li>
                         </ul> 
    </div>
    <script>
        $(document).ready(function() {
            var iconFolderOpenClass  = 'fa-folder-open';
            var iconFolderCloseClass = 'fa-folder';
            var iconAllExpandClass = 'fa-angle-double-down';
            var iconAllPackClass = 'fa-angle-double-up';
            // Handle directory-tree expansion:
            // 左键单独展开目录
            $(document).on('click', '#categories a[data-role="directory"]', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var subtree = $(this).siblings('ul');
                icon.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if (expanded) {
                    if (typeof subtree != 'undefined') {
                        subtree.slideUp({ duration: 100 });
                    }
                    icon.addClass(iconFolderCloseClass);
                } else {
                    if (typeof subtree != 'undefined') {
                        subtree.slideDown({ duration: 100 });
                    }
                    icon.addClass(iconFolderOpenClass);
                }
            });
            // 右键展开下属所有目录
            $('#categories a[data-role="directory"]').bind("contextmenu", function(event){
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var listNode = $(this).siblings('ul');
                var subtrees = $.merge(listNode.find('li ul'), listNode);
                var icons = $.merge(listNode.find('.fa'), icon);
                icons.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if(expanded) {
                    subtrees.slideUp({ duration: 100 });
                    icons.addClass(iconFolderCloseClass);
                } else {
                    subtrees.slideDown({ duration: 100 });
                    icons.addClass(iconFolderOpenClass);
                }
            })
            // 展开关闭所有目录按钮
            $(document).on('click', '#allExpand', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconAllExpandClass);
                icon.removeClass(iconAllExpandClass).removeClass(iconAllPackClass);
                if(expanded) {
                    $('#sidebar .fa.fa-folder').removeClass('fa-folder').addClass('fa-folder-open')
                    $('#categories li ul').slideDown({ duration: 100 });
                    icon.addClass(iconAllPackClass);
                } else {
                    $('#sidebar .fa.fa-folder-open').removeClass('fa-folder-open').addClass('fa-folder')
                    $('#categories li ul').slideUp({ duration: 100 });
                    icon.addClass(iconAllExpandClass);
                }
            });
        });
    </script>


    
        
    <div class="widget-wrap">
        <h3 class="widget-title"><span>最新文章</span></h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/posts/3895039994/" class="thumbnail">
    
    
        <span style="background-image:url(https://www.jifu.io/images/2/20190427135657.jpg)" alt="命令行信息截图工具 - ScreenFetch" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/OPS/">OPS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/OPS/Others/">Others</a></p>
                            <p class="item-title"><a href="/posts/3895039994/" class="title">命令行信息截图工具 - ScreenFetch</a></p>
                            <p class="item-date"><time datetime="2020-08-11T05:17:21.000Z" itemprop="datePublished">2020-08-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/posts/1413974522/" class="thumbnail">
    
    
        <span style="background-image:url(https://www.jifu.io/images/posts/1413974522/223592376156316015.jpg)" alt="用好这些隐藏「小开关」，让 Chrome 浏览器更好用" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/OPS/">OPS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/OPS/Others/">Others</a></p>
                            <p class="item-title"><a href="/posts/1413974522/" class="title">用好这些隐藏「小开关」，让 Chrome 浏览器更好用</a></p>
                            <p class="item-date"><time datetime="2019-12-17T13:14:30.000Z" itemprop="datePublished">2019-12-18</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/posts/4024224000/" class="thumbnail">
    
    
        <span style="background-image:url(https://www.jifu.io/images/2/20191116165053.png)" alt="Linux swap分区及作用详解" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/OPS/">OPS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/OPS/Linux/">Linux</a></p>
                            <p class="item-title"><a href="/posts/4024224000/" class="title">Linux swap分区及作用详解</a></p>
                            <p class="item-date"><time datetime="2019-11-16T03:44:24.000Z" itemprop="datePublished">2019-11-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/posts/151598530/" class="thumbnail">
    
    
        <span style="background-image:url(https://www.jifu.io/images/2/20191028214328.png)" alt="VScdoe error:Could not create temporary directory Permission denied" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/OPS/">OPS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/OPS/Editor/">Editor</a></p>
                            <p class="item-title"><a href="/posts/151598530/" class="title">VScdoe error:Could not create temporary directory Permission denied</a></p>
                            <p class="item-date"><time datetime="2019-10-28T08:42:49.000Z" itemprop="datePublished">2019-10-28</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/posts/4147446761/" class="thumbnail">
    
    
        <span style="background-image:url(https://www.jifu.io/images/2/20191028213414.jpg)" alt="Mac 时间机器 Time Machine 备份速度太慢的解决方法 (加速备份命令)" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/OPS/">OPS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/OPS/MacOS/">MacOS</a></p>
                            <p class="item-title"><a href="/posts/4147446761/" class="title">Mac 时间机器 Time Machine 备份速度太慢的解决方法 (加速备份命令)</a></p>
                            <p class="item-date"><time datetime="2019-10-28T08:28:37.000Z" itemprop="datePublished">2019-10-28</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
            <section id="main"><article id="post-back-end/Middle-ware/Redis/redis.conf参数配置及解释" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/back-end/">back-end</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/back-end/Middle-ware/">Middle-ware</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/back-end/Middle-ware/Redis/">Redis</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Redis/">Redis</a>, <a class="tag-link" href="/tags/config/">config</a>, <a class="tag-link" href="/tags/参数/">参数</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/posts/2992538737/">
            <time datetime="2019-04-01T02:48:33.000Z" itemprop="datePublished">2019-04-01</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 class="article-title" itemprop="name">
            redis.conf参数配置及解释
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">文章目录</strong>
                    
                </div>
            
        
        
            <p><img src="https://www.jifu.io/images/2/20190401165755.jpg" alt=""></p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># redis关于内存分配使用的单位，不区分大小写，K、M、G单位进制1000，kb，mb，gb进制1024</span>
<span class="token comment" spellcheck="true">##################################关于include指令 ###################################</span>
<span class="token comment" spellcheck="true"># 一般的一台服务器上会跑多个Redis实例，而这些实例配置大同小异，因此将共同的部分抽取出来template.conf，</span>
<span class="token comment" spellcheck="true">#然后在其他配置(Instance.conf)中引入是一种合理的实践方式，Redis配置支持这种实践模式,通过include指令；</span>
<span class="token comment" spellcheck="true">#除此以外,在Instance.conf 覆盖参数也是合理的需求。</span>
<span class="token comment" spellcheck="true">#Redis include处理的逻辑可以这么理解：</span>
<span class="token comment" spellcheck="true">#Redis 利用Map 存储参数，按照定义的顺序读取及解析文件并肩参数存储到Map中，也就是说同样的配置靠后的才是生效的配置。</span>
<span class="token comment" spellcheck="true">#最常用的实践方式为：在instance.conf文件的开头引入template.conf,并在instance.conf重写特定的配置</span>
<span class="token comment" spellcheck="true"># include .\path\to\local.conf</span>
<span class="token comment" spellcheck="true">################################## 以下为Redis使用的全部参数 #####################################</span>
<span class="token comment" spellcheck="true">################################## 网络参数 #####################################</span>
<span class="token comment" spellcheck="true"># bind 参数用于设定监听的本机IP（v4或者v6），可以是一个也可以是多个，如下所示：</span>
<span class="token comment" spellcheck="true"># bind 192.168.1.100 10.0.0.1</span>
<span class="token comment" spellcheck="true"># bind 127.0.0.1 ::1</span>
<span class="token comment" spellcheck="true"># 如果bind参数没有定义, redis将会监听服务器的所有的IP（一般服务器有多个网卡）；</span>
<span class="token comment" spellcheck="true"># 警告：在生产环境中（或者说在公网）监听全部的IP是极度危险的，所以默认的，Redis设定之间听回环IP(127.0.0.1),这样Redis只会处理来自本机的连接。</span>
<span class="token comment" spellcheck="true"># 如果 你确认需要监听本机全部的IP，请注释掉bind 配置</span>
<span class="token comment" spellcheck="true"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
bind 127.0.0.1
<span class="token comment" spellcheck="true">#protected-mode 用于设定是否开启保护模式，默认开启。</span>
<span class="token comment" spellcheck="true"># 当Redis暴露在互联网，没有设定具体的监听IP，也没有开启访问的密码验证：</span>
<span class="token comment" spellcheck="true"># 如果开启保护模式，那么Redis只会接受来自本机（本机回环地址）以及Unix Domain Socket（也是本机）的连接，</span>
<span class="token comment" spellcheck="true">#关于 Unix Domain Socket ，请参看https://blog.csdn.net/guxch/article/details/7041052；</span>
<span class="token comment" spellcheck="true">#基本类似于Socket 但是只用于本机进程间通讯，数据并不经过网络协议栈，没有打包解包流程，同时发送数据时会携带组Id，用户Id，进程Id用于接收方进程验证。</span>
<span class="token comment" spellcheck="true"># 请确认好再做修改</span>
protected-mode <span class="token function">yes</span>
<span class="token comment" spellcheck="true"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="token comment" spellcheck="true">#Redis监听的TCP端口 ，用于客户端连接，必须设定为大于0，且要避开系统端口</span>
port 6379
<span class="token comment" spellcheck="true">#tcp-backlog</span>
<span class="token comment" spellcheck="true">#在高并发的环境下,需要提高tcp-bakclog 的值，用于保证连接较慢的客户端不会失去连接</span>
<span class="token comment" spellcheck="true">#tcp backlog参数的作用 参看https://www.cnblogs.com/Orgliny/p/5780796.html</span>
<span class="token comment" spellcheck="true">#基本上就是用于指定Redis可同时维持的最大的通信进程数，但是这个进程数不能超过Linux系统的默认设定值</span>
<span class="token comment" spellcheck="true">#Linux 系统设定文件为/proc/sys/net/core/somaxconn somaxconn &amp;cp_max_syn_backlog</span>
<span class="token comment" spellcheck="true">#一般不需要设定</span>
tcp-backlog 511

<span class="token comment" spellcheck="true"># Unix socket.</span>
<span class="token comment" spellcheck="true"># 设定本机进程间通讯端口，默认不监听，一般也不用；</span>
<span class="token comment" spellcheck="true"># unixsocket /tmp/redis.sock</span>
<span class="token comment" spellcheck="true"># unixsocketperm 700</span>

<span class="token comment" spellcheck="true">#设定Redis与客户端断开连接后与Redis关闭这个连接的时间差，0代表No</span>
<span class="token function">timeout</span> 0

<span class="token comment" spellcheck="true"># TCP keepalive.单位second 一般60秒</span>
<span class="token comment" spellcheck="true"># 用于设定Redis向客户端发出心跳检测的间隔时间，目的有两个：一个是心跳检测，一个是保证网络畅通（网络中间设备可能会掐断链路</span>
tcp-keepalive 0
<span class="token comment" spellcheck="true">################################# 通用设置 #####################################</span>
<span class="token comment" spellcheck="true"># daemonize 设定是否在以守护进程的模式运行，默认No，当开启后会在写一个/var/run/redis.pid 记录pid</span>
daemonize no
<span class="token comment" spellcheck="true"># 如果使用 upstart or systemd 做服务的监控，可以配置这个选项用于发送信号给两者</span>
<span class="token comment" spellcheck="true"># 可用选项：</span>
<span class="token comment" spellcheck="true">#   supervised no      - no supervision interaction</span>
<span class="token comment" spellcheck="true">#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode</span>
<span class="token comment" spellcheck="true">#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET</span>
<span class="token comment" spellcheck="true">#   supervised auto    - detect upstart or systemd method based on</span>
<span class="token comment" spellcheck="true">#   UPSTART_JOB or NOTIFY_SOCKET environment variables</span>
<span class="token comment" spellcheck="true"># 注意: 不保证有效，仅仅是发送信号给两者.</span>
supervised no
<span class="token comment" spellcheck="true"># pidfile 用于设定Redis run on deamon 时 pid写到哪个文件</span>
pidfile /var/run/redis.pid
<span class="token comment" spellcheck="true"># 设定Redis 日志的级别</span>
loglevel notice
<span class="token comment" spellcheck="true"># 设定日输出文件名，不设定日志输出会被重定向到标准输出流</span>
logfile <span class="token string">""</span>
<span class="token comment" spellcheck="true"># 设定 redis 分区数量，一般在多个应用使用一个群组的时候需要为不同应用分配不同空间避免Key冲突</span>
databases 16

<span class="token comment" spellcheck="true">################################ 快照（数据定时写入磁盘）################################</span>
<span class="token comment" spellcheck="true"># Save the DB on disk:</span>
<span class="token comment" spellcheck="true"># 设定写入到磁盘的时机，要同时满足两条件 时间（单位seconds）、key的更改次数</span>
<span class="token comment" spellcheck="true"># 如果不需要写到磁盘 用save "" 覆写</span>
save 900 1
save 300 10
save 60 10000
<span class="token comment" spellcheck="true"># 如果开启了快照而最新的快照又失败的话,Redis将拒绝写入操作,以避免灾难发生,尽管这是很硬核的策略</span>
<span class="token comment" spellcheck="true">#如果Redis 后台写快照又正常了，Redis则会自动的允许写入</span>
<span class="token comment" spellcheck="true">#如果你设定正确的监控和持久化策略。你可以关闭这个特性(use no),即使硬盘坏了或者写出权限不足</span>
stop-writes-on-bgsave-error <span class="token function">yes</span>
<span class="token comment" spellcheck="true"># 在Redis 把内存中的数据dump到硬盘上的rdb文件时，是否使用LZF算法对string 进行压缩，开启压缩的话，文件会变小，但是CPU小号功率会上升，默认开启。</span>
rdbcompression <span class="token function">yes</span>
<span class="token comment" spellcheck="true"># 从第5个发布的版本开始，Redis增加了在RDB文件的介未增加了CRC64的完整性校验位，防止文件被破坏。但是在存储的时候会降低大约10%的效率。默认yes开启no关闭</span>
rdbchecksum <span class="token function">yes</span>
<span class="token comment" spellcheck="true">#设定mem数据dump到硬盘时的文件名 （Snapshot）</span>
dbfilename dump.rdb
<span class="token comment" spellcheck="true"># 设定文件的存储目录 绝对路径或者相对路径均可以 只可以是文件夹：dafilename文件会存储在这个目录下</span>
<span class="token function">dir</span> ./

<span class="token comment" spellcheck="true">################################# 主从复制设定 #################################</span>
<span class="token comment" spellcheck="true"># 为了保证应用的的高可用（最高目标就是7*24*100%尽管实际上很难达到)。一般采用的套路有两种</span>
<span class="token comment" spellcheck="true"># 一种是单机但是提供一个监控服务在应用服务程序挂掉马上重启（时间有间断用户可感知）；</span>
<span class="token comment" spellcheck="true"># 一种是跑两个实例一台主机提供服务一台做备机备灾，主机挂掉，备机自动马上开始提供服务（无间断服务用户无法感知）。</span>
<span class="token comment" spellcheck="true"># Redis 高可用是同通过双机切换来做的。</span>
<span class="token comment" spellcheck="true">#具体的配置主机Mater和备机Slave关系可以使用如下参数（slaveof &lt;masterip> &lt;masterport>）</span>
<span class="token comment" spellcheck="true"># Redis 主从的数据复制是异步的，Master可以配置备机的最小数量N，当与Master连接备机小于N时，Master将不会接受写入请求{Slave 数据和Master的数据对程序的表现是一致的（实际上并不一致，当Mater上有已过期的未被回收的Key存在时，这些Key不会复制到Slave上去，这个是Redis的一个Feature not Bug）}，一般情况下就是一主一备。</span>
<span class="token comment" spellcheck="true"># 也可以i可以设定备机与主机的最长失联时间，在这个时间内连接恢复的话，同步会再次自动的进行不需要人工干预。</span>
<span class="token comment" spellcheck="true"># slaveof &lt;masterip> &lt;masterport></span>

<span class="token comment" spellcheck="true"># 如果主机开启了password保护（requirepass 配置），需要使用下面的配置主机的访问密码</span>
<span class="token comment" spellcheck="true"># masterauth &lt;master-password></span>

<span class="token comment" spellcheck="true">#Slave，在失去了Master的链接或者在进行主从复制的时，收到客户端的请求时,</span>
<span class="token comment" spellcheck="true"># 如果slave-serve-stale-data 配置为yes，Slave会继续响应这个读取请求（但是响应数据有可能为过期数据，或者空数据如果Slave是第一次同步数据）</span>
<span class="token comment" spellcheck="true">#如果配置为no，Slave会响应给客户端一个ERROR(SYNC with master in progress)</span>
slave-serve-stale-data <span class="token function">yes</span>
<span class="token comment" spellcheck="true">#我们可以配置一个Slave是否响应写请求，接受写请求可能对写如一些临时数据时有效果（会在主机数据进行同步时删除掉）</span>
<span class="token comment" spellcheck="true">#Attention：但是很容易造成数据或者业务的混乱之类的问题，</span>
<span class="token comment" spellcheck="true">#从Redis 2.6 开始 Slave默认为read-only，而且只读Slave并不适合暴露在互联网上,只读只是一个防止RedisSlave被错误使用的机制。</span>
<span class="token comment" spellcheck="true">#除此之外，只读Slave仍旧可以接受一些管理命令比如config，debug等等。</span>
<span class="token comment" spellcheck="true">#如果你想提高Slave的安全性，请使用“rename-command”命令对redis命令重命名,屏蔽掉管理\危险的命令,尽管这很有限。</span>
slave-read-only <span class="token function">yes</span>

<span class="token comment" spellcheck="true">#数据同步的策略，通过硬盘或者socket</span>
<span class="token comment" spellcheck="true">#Attention:不通过磁盘机型数据同步仅仅是试验中的特性；</span>
<span class="token comment" spellcheck="true">#新增加的或者断线重连(如果不能继续原先的同步)的Slave会从Master进行全量同步（rdb文件被传输给Slave，Slave解析RDB文件）；</span>
<span class="token comment" spellcheck="true">#传输的方式分为两种：</span>
<span class="token comment" spellcheck="true"># 1.Master创建一个新的进程把数据不断写到硬盘上，然后再把文件传输给Slaves；</span>
<span class="token comment" spellcheck="true"># 2.Master创建一个新的进程通过socket直接把rdb文件写到Slave上，不在经过硬盘；</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true">#使用硬盘进行同步时,rdb文件生成完成后,Master再接受同步请求后就会把rdb文件发送过去；</span>
<span class="token comment" spellcheck="true">#通过socket同步时,新的同步请求会被阻塞直到当前处理的同步请求完成；</span>
<span class="token comment" spellcheck="true">#在使用socket同步时,Master可以配置一个等待时间以便于同时处理几个同步请求。</span>
<span class="token comment" spellcheck="true">#如果网络带宽够大而且硬盘读写速度较慢时，socket是一个较号的选择。</span>
repl-diskless-sync no
<span class="token comment" spellcheck="true"># socket同步请求处理延时，单位second</span>
repl-diskless-sync-delay 5

<span class="token comment" spellcheck="true">#Slave 按照如下配置的时间ping Master，默认10seconds。</span>
<span class="token comment" spellcheck="true"># repl-ping-slave-period 10</span>

<span class="token comment" spellcheck="true"># 以下配置设定主从复制的相关超时设置：如果超时就会断开连接重连Master并且重新进行同步操作</span>
<span class="token comment" spellcheck="true"># IO传输超时，从Slave的角度；（Slave发送SYNC到Mater,Master 需要在60s内把rdb文件内数据发送到Slave）</span>
<span class="token comment" spellcheck="true"># Master网络超时，从Slave的角度；（Slave ping Master）</span>
<span class="token comment" spellcheck="true"># Slave网络超时，从Master角度；（Master ping Slave）</span>
<span class="token comment" spellcheck="true"># 注意这个值需要比repl-ping-slave-period 这个配置要大,不让当传输较慢的时候 总会触发超时。</span>
<span class="token comment" spellcheck="true"># repl-timeout 60</span>

<span class="token comment" spellcheck="true"># 完成数据同步后，Slave是否禁用TCP-NODELAY？</span>
<span class="token comment" spellcheck="true"># 如果yes，Redis Master会将多份数据打包成一个小的数据报后再发送到Slave,会导致数据主从 数据上的延迟约40ms</span>
<span class="token comment" spellcheck="true">#打包操作由linux内核完成，约延迟40ms，参看https://www.cnblogs.com/wajika/p/6573028.html</span>
<span class="token comment" spellcheck="true">#if no,数据传输延迟会降低，但是带宽消耗会上升,默认会禁用延时。如果数据量很大或者主备机延时很高的情况设置为yes可能会好点</span>
repl-disable-tcp-nodelay no

<span class="token comment" spellcheck="true">#设定主从复制的数据缓冲区大小，当Slave再复制期间断线，后又再次重连的话，如果数据缓冲区还未写满，Slave则会继续从缓冲区读入数据，否则会再次发送全量同步的请求。</span>
<span class="token comment" spellcheck="true"># 只有存在Slave时，Redis才会申请这块内存</span>
<span class="token comment" spellcheck="true"># repl-backlog-size 1mb</span>

<span class="token comment" spellcheck="true"># 设定Master没有Slave connect多上时间后开始释放 backlog 内存</span>
<span class="token comment" spellcheck="true"># repl-backlog-ttl 3600</span>

<span class="token comment" spellcheck="true"># Slave的优先级（必须是正整数），决定了成为Master的顺位（当Master挂了的时候）。</span>
<span class="token comment" spellcheck="true">#数值越小，优先级越高。但是如果是0的时候，则永远不会成为Master</span>
slave-priority 100

<span class="token comment" spellcheck="true">#当在线的Slave小于N时，Master将不再接受写入请求。</span>
<span class="token comment" spellcheck="true">#当Master收到Slave的最后一次ping 如果持续M秒时还未收到Ping，Master会Mark Slave offline</span>
<span class="token comment" spellcheck="true"># 这配置并不能保证其他的N-1个Slave会接受写操作，只能保证少于N个Slave时Master不在接受写操作</span>
<span class="token comment" spellcheck="true"># 0代表disable，默认的</span>
<span class="token comment" spellcheck="true"># min-slaves-to-write 0， min-slaves-max-lag 10</span>
<span class="token comment" spellcheck="true"># min-slaves-to-write 3</span>
<span class="token comment" spellcheck="true"># min-slaves-max-lag 10</span>
<span class="token comment" spellcheck="true">################################## 安全保证###################################</span>
<span class="token comment" spellcheck="true">#是否需要开启密码验证（一般情况下，并不需要）,Redis 性能相当高，大约每秒处理大约150k请求，因此密码最好很长，不然直接就暴力破解了</span>
<span class="token comment" spellcheck="true"># requirepass foobared</span>

<span class="token comment" spellcheck="true"># 修改命令的名字为新的字符，比如 rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span>
<span class="token comment" spellcheck="true"># 这样的话 客户端只能用过 b840fc02d524045429941cc15f59e41cb7be6c52 来达到 config的的效果，当rename-command CONFIG “” 时，CONFIG命令就会失效</span>
<span class="token comment" spellcheck="true"># 注意：如果修改的命令会被记录到AOF或者传输到Slave机器会造成很多问题。</span>
<span class="token comment" spellcheck="true"># Command renaming.</span>
<span class="token comment" spellcheck="true"># Please note that changing the name of commands that are logged into the</span>
<span class="token comment" spellcheck="true"># AOF file or transmitted to slaves may cause problems.</span>

<span class="token comment" spellcheck="true">################################### 限制 ####################################</span>
<span class="token comment" spellcheck="true">#设定Redis同时最大的客户端连接数量，默认情况为10000，如果Redis无法从配置文件进行配置，Redis将会设定为当前文件的限制减去32；</span>
<span class="token comment" spellcheck="true"># maxclients 10000</span>
<span class="token comment" spellcheck="true"># 是否开启持久化机制，如果否，那么一切持久化相关配置都会失效。比如RDB（内存数据快照）&amp;AOF(操作记录AppendOnlyFile)</span>
<span class="token comment" spellcheck="true"># persistence-available [(yes)|no]</span>

<span class="token comment" spellcheck="true">#当内存使用量达到设定的上限时，Redis就会开始回收过期的Key.</span>
<span class="token comment" spellcheck="true">#如果无法删除key,Redis会对使用大量内存的命令（lpush等）返回错误信息，但是GET类命令正常响应。</span>
<span class="token comment" spellcheck="true">#除此之外,如果当前Redis有备机存在，那么写到备机时所可使用的最大缓存大小为机器内存减去Redis数据所占内存。</span>
<span class="token comment" spellcheck="true">#因此,当数据过多时就会挤压主从缓冲的大小，直至缓冲被挤占完全，当网络有问题时，会造成同步失败</span>
<span class="token comment" spellcheck="true">#简单的说，当有备机存在时，maxmemory需要设置的小点给主从复制缓冲留些空间</span>
<span class="token comment" spellcheck="true">#注意：这是为0时,代表不限制内存的使用，当内存用尽时会OOM</span>
<span class="token comment" spellcheck="true">#Redis使用系统内存分页申请堆,其他的内存占用分析工具查看Redis使用的内存大小时并不准确</span>
<span class="token comment" spellcheck="true"># maxmemory &lt;bytes></span>

<span class="token comment" spellcheck="true">#内存用尽时的Key删除策略，共5种</span>
<span class="token comment" spellcheck="true"># volatile-lru -> 删除 Least Recent Use 算法&amp; Has Expried Keys</span>
<span class="token comment" spellcheck="true"># allkeys-lru ->删除 Least Recent Use 算法 &amp; Any  Keys</span>
<span class="token comment" spellcheck="true"># volatile-random -> 随机删除A  Has Expried  Key</span>
<span class="token comment" spellcheck="true"># allkeys-random -> 随机删除A Key</span>
<span class="token comment" spellcheck="true"># volatile-ttl -> 删除距离过期时间最近的Key</span>
<span class="token comment" spellcheck="true"># noeviction -> 不做任何处理,当达到maxmemory时,直接return an error to client</span>

<span class="token comment" spellcheck="true"># maxmemory-policy noeviction</span>

<span class="token comment" spellcheck="true"># LRU或者TTL并不是精确算法,可以对算法进行调整，默认的，LRU或者TTL 每次会选择5个Key检测,随机的删除满足条件一个。不需要修改，5 is tested for the best performance</span>
<span class="token comment" spellcheck="true"># maxmemory-samples 5</span>

<span class="token comment" spellcheck="true">##############################只追加模式  ###############################</span>
<span class="token comment" spellcheck="true"># 默认情况下,Redis dump data to disk 和接受读写的线程是异步的，这种模式在大部分情况下足够用了，但是如果突然停电关机，一般情况下，Mem内的数据 会丢失一部分（不确定的）。</span>
<span class="token comment" spellcheck="true"># AOF 模式提供了更可靠的持久化方式，使用fsync 策略时，Redis只会丢失1s的写入数据(取决于appendfsync 配置)。</span>
<span class="token comment" spellcheck="true">#AOF 和RDB 可以同时启用，但是会优先使用AOF</span>
appendonly no
<span class="token comment" spellcheck="true"># aof 文件名</span>
appendfilename <span class="token string">"appendonly.aof"</span>
<span class="token comment" spellcheck="true"># Redsi调用fsync()时，会告诉系统立刻把数据的从内存写入到 硬盘而不是停留在在输出buffer里面。（但是取决于系统，linux下是如此）</span>
<span class="token comment" spellcheck="true"># Redis 调用 fsync()模式有如下几种：</span>
<span class="token comment" spellcheck="true"># no，不调用，让系统决定；</span>
<span class="token comment" spellcheck="true"># always 每一次写操做都会调用</span>
<span class="token comment" spellcheck="true"># everysec每秒调用一次，默认值</span>

<span class="token comment" spellcheck="true"># appendfsync always</span>
appendfsync everysec
<span class="token comment" spellcheck="true"># appendfsync no</span>

<span class="token comment" spellcheck="true">#当AOF fsync 为always 或者 everysec，同时在后台有进程在进行大量的磁盘IO（比如BGSAVE或者AOF重写时），</span>
<span class="token comment" spellcheck="true">#在一些Linux配置中Redis会长时间的阻塞在fsync调用上（目前还没有办法解决），甚至至其他线程调用也会阻塞我们对write(2)的调用(因为Redis Main Thread调用write是同步阻塞的）</span>
<span class="token comment" spellcheck="true">#为了减少这个问题请使用如下的配置，以阻止主线程对fsync的调用（当有BGSAVE或者BGREWRITEAOF执行的时候）</span>
<span class="token comment" spellcheck="true"># 这样有一个后果，AOF文件从内存写入到硬盘完全由系统控制即appendfsync 为no的效果一样，最坏的情况下，AOF会丢失30s的数据</span>
<span class="token comment" spellcheck="true">#如果你对读写效率要求非常高时，请将下面的配置为yes，不然请保持no，这样是数据最安全的</span>
no-appendfsync-on-rewrite no

<span class="token comment" spellcheck="true">#AOF 持久化是通过保存被执行的写命令来记录数据库状态的，所以AOF文件的大小随着时间的流逝一定会越来越大；</span>
<span class="token comment" spellcheck="true">#影响包括但不限于：对于Redis服务器，计算机的存储压力；AOF还原出数据库状态的时间增加；</span>
<span class="token comment" spellcheck="true"># 为了解决AOF文件体积膨胀的问题，Redis提供了AOF重写功能：</span>
<span class="token comment" spellcheck="true"># Redis服务器可以创建一个新的AOF文件来替代现有的AOF文件，新旧两个文件所保存的数据库状态是相同的，</span>
<span class="token comment" spellcheck="true"># 但是新的AOF文件不会包含任何浪费空间的冗余命令，通常体积会较旧AOF文件小很多。（主要是合并一些命令）</span>
<span class="token comment" spellcheck="true"># 这个机制触发机制是：当AOF文件大小的增长到某一个值时；</span>
<span class="token comment" spellcheck="true"># auto-aof-rewrite-min-size 配置 重写的触发时最小的AOF大小，</span>
<span class="token comment" spellcheck="true">#auto-aof-rewrite-percentage 配置当AOF文件相比于Redis启动时大小增长的比率，0代表禁用BGAOFREWRITE特性</span>
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

<span class="token comment" spellcheck="true">#在Redis启动时，AOF文件被载入内存，有可能持续出现（AOF被截断文件不完整这种情况，一般是系统挂掉造成的尤其是EXT4这种文件系统），Redis根据如下的aof-load-truncated的配置要么直接报错退出，要么尽可能的载入可载入的数据。</span>
<span class="token comment" spellcheck="true">#aof-load-truncated yes 时，Redis会正常启动并尽可能的载入数据，并将AOF损坏报告给用户</span>
<span class="token comment" spellcheck="true">#aof-load-truncated no时，Redis将会因为报错而退出，需要使用redis-check-aof来修复AOF文件后再次启动。</span>
<span class="token comment" spellcheck="true"># 注意，这个选项支队啊、AOF文件结尾损坏有效，如果AOF文件中间损坏了并不会由任何效果Redis人仍旧会退出报错。</span>
aof-load-truncated <span class="token function">yes</span>

<span class="token comment" spellcheck="true">################################ LUA 脚本  ###############################</span>
<span class="token comment" spellcheck="true">#配置一个Lua脚本执行时，最大的毫秒数，如果超过这个时间脚本仍在执行，Redis将会记录这个情况,并且会对所有的读取请求回复错误。</span>
<span class="token comment" spellcheck="true">#当脚本执行时间超标了，那么只有SCRIPT KILL and SHUTDOWN NOSAVE可以使用；</span>
<span class="token comment" spellcheck="true">#SCRIPT KILL 只能应用在脚本还未执行写操作时，</span>
<span class="token comment" spellcheck="true">#SHUTDOWN NOSAVE 适用于脚本有了写操作，而用户又不想等待脚本自然终止的情况下；</span>
<span class="token comment" spellcheck="true">#设置为0 或者负数时，代表不设置最高时间上限。</span>
lua-time-limit 5000

<span class="token comment" spellcheck="true">################################ REDIS 集群###############################</span>
<span class="token comment" spellcheck="true">#警告：Redis集群尽管被认为是个稳定的版本，但是仍需要一些吃螃蟹的人在生产环境中大规模使用才能被标记为成熟。</span>
<span class="token comment" spellcheck="true"># 一般的正常的Redis时无法成为集群的一部分的，只有以集群节点方式启动的Redis才可以加入集群。</span>
<span class="token comment" spellcheck="true"># 将如下配置为yes，Redis启动模式将会改为集群节点模式；</span>
<span class="token comment" spellcheck="true"># cluster-enabled yes</span>

<span class="token comment" spellcheck="true">#每个Redis节点都有一个自己的集群配置文件，但是这个文件不适于手动编辑，而是由Redis节点生成修改；</span>
<span class="token comment" spellcheck="true">#在单机配置 多个节点的时候，请确认每个节点都有自己的配置，不会相互复写；</span>
<span class="token comment" spellcheck="true"># cluster-config-file nodes-6379.conf</span>

<span class="token comment" spellcheck="true">#集群超时时间是这个节点不可达的最长毫秒数，不然节点见会被标记为failure，一般是redis内部超时的整数倍</span>
<span class="token comment" spellcheck="true"># cluster-node-timeout 15000</span>

<span class="token comment" spellcheck="true">#集群主机的备机，将不会自动的切换为主机状态，如果 备机数据too old，</span>
<span class="token comment" spellcheck="true">#检测备机数据的年龄，Redis依靠如下两个检测结果：</span>
<span class="token comment" spellcheck="true"># 1）如果存在多个备机可以切换为主机,那么备机将相互交换数据查看谁备份数据最好(接受处理的Master发送的同步数据最多)</span>
<span class="token comment" spellcheck="true"># 2）每个备机将会计算自己与Master最后一次通信（互ping，接受命令）的时间，或者与Master失联的时间，如果时间太大则根本不会切换为主机，</span>
<span class="token comment" spellcheck="true"># 判断标准为{(node-timeout * slave-validity-factor) + repl-ping-slave-period}单位秒。</span>
<span class="token comment" spellcheck="true"># 当设置slave-validity-factor 为0 时，Slave会忽略数据年龄判断，加入Master选举</span>
<span class="token comment" spellcheck="true"># cluster-slave-validity-factor 10</span>

<span class="token comment" spellcheck="true"># 集群备机能够迁移成为其他单点主机的备机，这样可以提高集群的稳定性；</span>
<span class="token comment" spellcheck="true">#但是备机迁移的前提是老的主机备机数量大于老主机指定的最小备机数；</span>
<span class="token comment" spellcheck="true">#默认情况下，每个主机只需要要有一个备机。</span>
<span class="token comment" spellcheck="true">#但是为了节点的稳定性要避免备机迁移，请将数值调很大，</span>
<span class="token comment" spellcheck="true">#也可以设置为0，但是只是请旨在debug情境下使用，生产环境会很危险</span>

<span class="token comment" spellcheck="true"># cluster-migration-barrier 1</span>

<span class="token comment" spellcheck="true">#默认情况下，只要有一个slot不可使用，整个集群立刻进入不可用状态（不可写也不可读），当这个slot可用了整个集群又会回复；</span>
<span class="token comment" spellcheck="true"># 如果你想使仍在工作的部分机器继续接受读取请求，请将下面的配置设为no</span>
<span class="token comment" spellcheck="true">#备注：slot 是每个Key存储的位置,Redis设计有16384 slot，</span>
<span class="token comment" spellcheck="true">#对于任何一个的Key的任何操作都需要确定他的在哪个slot（通过CRC64计算Key的hash，然后对16384求余即可得到slot id）</span>
<span class="token comment" spellcheck="true"># cluster-require-full-coverage yes</span>

<span class="token comment" spellcheck="true">################################## SLOW LOG ###################################</span>
<span class="token comment" spellcheck="true">#SLOW LOG 用于记录执行超时的命令,(执行时间的计算不包括与IO时间仅仅是Redis执行命令的时间，这个时间内Redis仅只执行这一个命令，命令处理是单线程的)，</span>
<span class="token comment" spellcheck="true"># 可以配置最大执行时间（单位ms）及记录超时命令的队列长度（队列满后老命令会被挤出）</span>
slowlog-log-slower-than 10000
slowlog-max-len 128

<span class="token comment" spellcheck="true">################################ LATENCY MONITOR ##############################</span>
<span class="token comment" spellcheck="true">#LATENCY MONITOR 主要是Redis集群用来收集子节点有哪些命令执行超时（>= latency-monitor-threshold的 值),通过LATENCY命令可以获取可视化的数据及报告</span>
<span class="token comment" spellcheck="true">#默认地，这个系统是禁用的（设置为0），如果想在运行时启用可以使用“CONFIG SET latency-monitor-threshold &lt;milliseconds>”命令</span>
latency-monitor-threshold 0

<span class="token comment" spellcheck="true">############################# EVENT NOTIFICATION ##############################</span>
<span class="token comment" spellcheck="true">#Redis 支持Pub/Sub 模式，Redis可以通知客户端发生了什么</span>
<span class="token comment" spellcheck="true">#可以设定Redis需要对哪一类事件进行通知，</span>
<span class="token comment" spellcheck="true">#  K     Keyspace events, published with __keyspace@&lt;db>__ prefix.</span>
<span class="token comment" spellcheck="true">#  E     Keyevent events, published with __keyevent@&lt;db>__ prefix.</span>
<span class="token comment" spellcheck="true">#  g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...</span>
<span class="token comment" spellcheck="true">#  $     String commands</span>
<span class="token comment" spellcheck="true">#  l     List commands</span>
<span class="token comment" spellcheck="true">#  s     Set commands</span>
<span class="token comment" spellcheck="true">#  h     Hash commands</span>
<span class="token comment" spellcheck="true">#  z     Sorted set commands</span>
<span class="token comment" spellcheck="true">#  x     Expired events (events generated every time a key expires)</span>
<span class="token comment" spellcheck="true">#  e     Evicted events (events generated when a key is evicted for maxmemory)</span>
<span class="token comment" spellcheck="true">#  A     Alias for g$lshzxe, so that the "AKE" string means all the events.</span>
<span class="token comment" spellcheck="true">#notify-keyspace-events 支持多个类型事件直接拼接即可，默认情况下会禁用</span>
notify-keyspace-events <span class="token string">""</span>

<span class="token comment" spellcheck="true">############################### ADVANCED CONFIG ###############################</span>
<span class="token comment" spellcheck="true">#存储的的Value REDIS_LIST,list.size&lt;64 ,最大element长度不超过512 ，那么这个 RedisList 会被重新Hash以节约内存</span>
<span class="token comment" spellcheck="true">#否则使用 HashTable来存储</span>
hash-max-ziplist-entries 512
hash-max-ziplist-value 64

<span class="token comment" spellcheck="true">#RedisList 数据会被重新编码以节约内存,可以指定每个Node的内存大小或者可以持有的元素数量</span>
<span class="token comment" spellcheck="true">#负数标识内存大小</span>
<span class="token comment" spellcheck="true"># -5: max size: 64 Kb  &lt;-- not recommended for normal workloads</span>
<span class="token comment" spellcheck="true"># -4: max size: 32 Kb  &lt;-- not recommended</span>
<span class="token comment" spellcheck="true"># -3: max size: 16 Kb  &lt;-- probably not recommended</span>
<span class="token comment" spellcheck="true"># -2: max size: 8 Kb   &lt;-- good</span>
<span class="token comment" spellcheck="true"># -1: max size: 4 Kb   &lt;-- good</span>
<span class="token comment" spellcheck="true">#整数表示可有存储的元素数量</span>
<span class="token comment" spellcheck="true">#一般每个node 8kb足够好了 不需要修改</span>
list-max-ziplist-size -2

<span class="token comment" spellcheck="true">#Redis List 也可以压缩，可以设定压缩的深度，即前多少个节点可以压缩默认0不要要锁</span>
list-compress-depth 0

<span class="token comment" spellcheck="true">#Sets 只有满足如下情况是才会被压缩：</span>
<span class="token comment" spellcheck="true"># 这个set 完全由64bit所能表示的有符号整数组成时；</span>
<span class="token comment" spellcheck="true"># 如下条目配置了一个Set最大元素数量</span>
set-max-intset-entries 512

<span class="token comment" spellcheck="true">#和Hash和List相似，有序Set也会被重新压缩编码节约内存，当仅当Set内的元素数量小于64.元素bit数小于128时；</span>
zset-max-ziplist-entries 128
zset-max-ziplist-value 64

<span class="token comment" spellcheck="true">#基数统计分组大小（主要用于统计Keyde数量通过HyperLogLog 算法，别去看：涉及数理统计及数据分布，数据可信度等等内容）</span>
hll-sparse-max-bytes 3000

<span class="token comment" spellcheck="true"># 激活ReHash Redis Main hash table（存储Top key的那个，指SET a 命令存储 a 的hash table） 大约只占用1%的CPU时间片。</span>
<span class="token comment" spellcheck="true"># Redis 对主表的rehash延迟执行，对正在HashTable操作越多，执行rehash的步骤越多,因此处于空闲的Redis，rehash永远无法完成</span>
<span class="token comment" spellcheck="true">#默认情况下每秒执行10次rehash操作用于释放内存；</span>
<span class="token comment" spellcheck="true"># 如果不确定或者对redis读取有很高的速度要求,请将activerehashing  设置为 no，</span>
<span class="token comment" spellcheck="true"># 如果尽快释放内存，请设置yes</span>
activerehashing <span class="token function">yes</span>

<span class="token comment" spellcheck="true"># 客户端输出缓冲区限制可以被用来青珀客户端断开与服务器的链接（如果客户端读取很慢而服务器生成很快情况下）</span>
<span class="token comment" spellcheck="true"># 可以对三种不同类型的客户端normal、slave、pubsub）进行限制，限制的语法为（注意0为禁用）</span>
<span class="token comment" spellcheck="true"># client-output-buffer-limit &lt;class> &lt;hard limit> &lt;soft limit> &lt;soft seconds></span>
<span class="token comment" spellcheck="true"># 当缓冲区占用了大小达到 hard limit 时，或者 达到 soft limit 达到 soft secnds 后，客户端会马上被强制断开链接</span>

<span class="token comment" spellcheck="true"># 默认情况下，normal 不会别限制，因为只有在异步的pubsub模式下才会出现输出缓冲被占满的情况；</span>
<span class="token comment" spellcheck="true">#其他的情况，有默认的限制</span>
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit slave 256mb 64mb 60
client-output-buffer-limit pubsub 32mb 8mb 60

<span class="token comment" spellcheck="true"># Redis 通过调内部函数执行很多后台任务（关闭超时连接,废Key回收等等），尽管这些任务执行的频率并不一样，但是我们可以设定检测需要执行任务的频率（hz 10 范围 1-500，但一般不要超过100除非需要很低的垃圾回收延迟）;</span>
<span class="token comment" spellcheck="true">#Redis 空闲时会略微提升CPU功率，但是同时会提升垃圾回收的速度，</span>
hz 10

<span class="token comment" spellcheck="true">#在后台重写AOF的时候，如果开启aof-rewrite-incremental-fsync yes，重写的AOF将会没32MB存到DISK一次，以避免IO速率出现尖峰形态</span>
aof-rewrite-incremental-fsync <span class="token function">yes</span>

<span class="token comment" spellcheck="true">################################## INCLUDES ###################################</span>
<span class="token comment" spellcheck="true"># include /path/to/local.conf</span>
<span class="token comment" spellcheck="true"># include /path/to/other.conf</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>


    
<nav id="article-nav">
    
        <a href="/posts/156114019/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    Redis Stream应用案例
                
            </div>
        </a>
    
    
        <a href="/posts/1544228005/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">高性能Web服务器 - Nginx配置详解</div>
        </a>
    
</nav>





    
    




<!-- baidu url auto push script -->
<script type="text/javascript">
    !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=window.location.href,o=document.referrer;if(!e.test(r)){var n="//api.share.baidu.com/s.gif";o?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var t=new Image;t.src=n}}(window);
</script>     

<head><meta name="generator" content="Hexo 3.9.0">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<link rel="stylesheet" href="/css/prism-duotone-light.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body>
    <div id="vcomments"></div>
    <script>
        new Valine({
            el: '#vcomments',
            appId: '8kLhebBkVygl1MhVcQx9dnBP-gzGzoHsz',
            appKey: 'hrctlOb6RQBWjjwTJ9fVjb91'
        })
    </script>
</body>


</section>
        </div>
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            <a href="https://www.jifu.io">
            Ji Fu &copy; 2020
            </a>
            <br> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme - <a href="https://github.com/zthxxx/hexo-theme-Wikitten">wikitten</a>
            <br> 您是  jifu'wiki 的第<span id="busuanzi_value_site_uv"></span>个小伙伴
            <br>
                本站总访问量<span id="busuanzi_value_site_pv"></span>次
                本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </div>
    </div>
</footer>



        

    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>